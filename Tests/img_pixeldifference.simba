{$assertions on}

var
  img1, img2: TImage;
begin
  img1 := TImage.CreateFromString('IMG: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');
  img2 := img1.Copy();

  img2.DrawBoxFilled([20,20,24,24], Colors.BLACK);

  // Only difference should be the box we just drawn
  Assert(img1.PixelDifference(img2) = 5*5);
  Assert(img1.PixelDifferenceTPA(img2).Length() = 5*5);
  Assert(img1.PixelDifferenceTPA(img2).Bounds() = [20,20,24,24]);

  img2.Free();
  img2 := img1.Mirror(EImageMirrorStyle.WIDTH);

  // The more tolerance, the less difference there should be.
  Assert(img1.PixelDifference(img2, 2) = 7338);
  Assert(img1.PixelDifference(img2, 6) = 1478);
  Assert(img1.PixelDifference(img2, 12) = 0);

  img1.Free();
  img2.Free();
end.
